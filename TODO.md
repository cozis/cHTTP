Allow no TLS builds
make sure no TLS builds work on windows
Allow resolving requests from different threads
Find a way to make sure http.h and http.c are always up to date